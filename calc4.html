<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<style>
    select option {
        margin: 40px;
        color: #fff;
    }

    select option[value="0"] {
        background: Black;
    }
    select option[value="1"] {
        background: brown;
    }
    select option[value="2"] {
        background:red;
    }
    select option[value="3"] {
        background:orange;
    }
    select option[value="4"] {
        color:black;
        background: yellow;
    }
    select option[value="5"] {
        background: green;
    }
    select option[value="6"] {
        background:blue;
    }
    select option[value="7"] {
        background:violet;
    }
    select option[value="8"] {
        background: grey;
        color:black;
    }
    select option[value="9"] {
        color:black;
        background: white;
    }
    select option[value="10"] {
        background:gold;
        color:black;
    }
    select option[value="11"] {
        background:silver;
        color:black;
    }

</style>
<body>
    <div class="container">
        <br><br>
        <h3>Calculadora para código de cores de resistores</h3>
        <div class="container">
            <input type="radio" id="four" name="grp" checked onchange="check()">4 Faixas
            <input type="radio" id="five" name="grp" onchange="check()">Cinco Faixas
        </div>
        <br>
        <div class="container">
            <label for="sel1">Selecione Faixa 1:</label>
            <select id="sel1" onchange="change_color1(this);">
                <option>--</option>
                <option value=0>Preto</option>
                <option value=1>Marrom</option>
                <option value=2>Vermelho</option>
                <option value=3>Laranja</option>
                <option value=4>Amarelo</option>
                <option value=5>Verde</option>
                <option value=6>Azul</option>
                <option value=7>Violeta</option>
                <option value=8>Cinza</option>
                <option value=9>Branco</option>
          
            </select>
        </div>

        <div class="container">
            <label for="sel2">Selecione Faixa 2:</label>
            <select id="sel2" onchange="change_color2(this);">
                <option>--</option>
                <option value=0>Preto</option>
                <option value=1>Marrom</option>
                <option value=2>Vermelho</option>
                <option value=3>Laranja</option>
                <option value=4>Amarelo</option>
                <option value=5>Verde</option>
                <option value=6>Azul</option>
                <option value=7>Violeta</option>
                <option value=8>Cinza</option>
                 <option value=9>Branco</option>
          
            </select>
            
        </div>

        <div class="container">
            <label for="sel5">Selecione Faixa 3:</label>
            <select id="sel5" onchange="change_color5(this);" disabled>
                <option>--</option>
                <option value=0>Preto</option>
                <option value=1>Marrom</option>
                <option value=2>Vermelho</option>
                <option value=3>Laranja</option>
                <option value=4>Amarelo</option>
                <option value=5>Verde</option>
                <option value=6>Azul</option>
                <option value=7>Violeta</option>
                <option value=8>Cinza</option>
                <option value=9>Branco</option>
        
            </select>
            
        </div>

        <div class="container">
            <label for="sel3">Selecione o Multiplicador:</label>
            <select id="sel3" onchange="change_color3(this);">
                <option>--</option>
                <option value=0>Preto</option>
                <option value=1>Marrom</option>
                <option value=2>Vermelho</option>
                <option value=3>Laranja</option>
                <option value=4>Amarelo</option>
                <option value=5>Verde</option>
                <option value=6>Azul</option>
                <option value=7>Violeta</option>
                <option value=8>Cinza</option>
                <option value=9>Branco</option>
                <option value=10>Dourado</option>
                <option value=11>Prata</option>
            </select>
            
        </div>
        

        <div class="container">
            <label for="sel4">Selecione a Tolerancia:</label>
            <select id="sel4" onchange="change_color4(this);">
                <option>--</option>
                <option value=1>Marrom</option>
                <option value=2>Vermelho</option>
                <option value=5>Verde</option>
                <option value=6>Azul</option>
                <option value=7>Violeta</option>
                <option value=8>Cinza</option>
                <option value=10>Gold</option>
                <option value=11>Silver</option>
            </select>
        </div>
        <br>
        <button onclick="calculate()">Calcular</button>
        <button onclick="reset()">Resetar</button>
    <p id="ans"></p>
</div>
</body>
<script>
    function check(){
        if(document.getElementById("four").checked)
            document.getElementById("sel5").disabled=true;
        if(document.getElementById("five").checked)
            document.getElementById("sel5").disabled=false;
    }    

       
    function change_color1(select) {
        document.getElementById("sel1").style.backgroundColor=select.options[select.selectedIndex].textContent;
    }
    function change_color2(select) {
        document.getElementById("sel2").style.backgroundColor=select.options[select.selectedIndex].textContent;
    }
    function change_color3(select) {
        document.getElementById("sel3").style.backgroundColor=select.options[select.selectedIndex].textContent;
    }
    function change_color4(select) {
        document.getElementById("sel4").style.backgroundColor=select.options[select.selectedIndex].textContent;
    }
    function change_color5(select) {
        document.getElementById("sel5").style.backgroundColor=select.options[select.selectedIndex].textContent;
    }


    function calculate(){
        var num,tol,mul;
        if(document.getElementById("four").checked)
            num=parseInt(document.getElementById("sel1").value.toString()+document.getElementById("sel2").value.toString());
        if(document.getElementById("five").checked)
            num=parseInt(document.getElementById("sel1").value.toString()+document.getElementById("sel2").value.toString()+document.getElementById("sel5").value.toString());
        
        if(document.getElementById("sel4").value=="10")
            tol=10;
        if(document.getElementById("sel4").value=="11")
            tol=5;
            
        var tempMul = parseInt(document.getElementById("sel3").value);
        if (tempMul == 10)
               mul = 0.1;
        else if (tempMul == 11)
               mul = 0.01;
        else       
               mul=Math.pow(10,tempMul);    
               
     
        document.getElementById("ans").innerHTML="O valor do resistor é <b>"+num*mul+" ohms = "+abbrNum(num*mul,2).toString()+" ohms</b>.<br>A tolerância é "+Math.round(num*mul*(1-tol/100))+" - "+Math.round(num*mul*(1+tol/100))+" ohms.";   
    }


    function abbrNum(number, decPlaces) {
       
        decPlaces = Math.pow(10,decPlaces);

       
        var abbrev = [ "K", "M", "B", "T" ];

      
        for (var i=abbrev.length-1; i>=0; i--) {

           
            var size = Math.pow(10,(i+1)*3);

      
            if(size <= number) {
              
              
                number = Math.round(number*decPlaces/size)/decPlaces;

                
                number += abbrev[i];

              
                break;
            }
        }

        return number;
    }
    function reset(){
        document.getElementById("four").checked=true;
        document.getElementById("five").checked=false;
        document.getElementById("sel1").value="--";
        document.getElementById("sel1").style.backgroundColor='white';
        document.getElementById("sel2").value="--";
        document.getElementById("sel2").style.backgroundColor='white';
        document.getElementById("sel3").value="--";
        document.getElementById("sel3").style.backgroundColor='white';
        document.getElementById("sel4").value="--";
        document.getElementById("sel4").style.backgroundColor='white';
        document.getElementById("sel5").value="--";
        document.getElementById("sel5").disabled="true";
        document.getElementById("sel5").style.backgroundColor='white';
        document.getElementById("ans").innerHTML="";    
    }
</script>
</html>
